<html>

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
  <script type="text/javascript" src="/scripts/highcharts.js"></script>
  
<body>
<select id="chooseSched">
{% for id in ids %}
  <option value="{{ id }}"> {{ id }} </option>
{% endfor %}
</select>

<div id="chart"></div>

<div id="sometext"></div>

  <script type="text/javascript">
    $(document).ready(function() {
        
        $('#chooseSched').change(function() { 
            var myid = $('#chooseSched').val();
            $.getJSON('/schedule', {id: myid}, function(j) {
              $("#sometext").text("author: " + j["author"] + 
                   "   description: " + j["description"] + 
                   "   id: " + j["id"]);
              

		        var chart = new Highcharts.Chart({
		            chart: {
		                type: 'scatter',
		                renderTo: 'chart',
		                height: 800,
		                width: 800,
		            },
		            
		            title: {
		                text: 'Sample schedule viewer'
		            },
		            
		            credits: {
		                enabled: false
		            },
		            
		            yAxis: {
		                min: 0,
		                max: 100,
		                title: {
		                    text: 'y increment'
		                },
		                gridLineWidth: 1
		            },
		            
		            xAxis: {
		                min: 0,
		                max: 100,
		                title: {
		                    text: 'x increment'
		                },
		                gridLineWidth: 1
		            },
		            
		            series: [
		                {name: 'sample schedule',
		                 data: []
		                }
		            ]
		        });
	
		        var pts = j["points"];
		        var coords = pts.map(function(pt) { return pt["location"];});
		
		        chart.series[0].setData(coords);

            });
            
        }) . change();
      
    });
  </script>
</body>
</html>