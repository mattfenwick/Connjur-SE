<html>

	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
	<script type="text/javascript" src="/scripts/highcharts.js"></script>
	<script type="text/javascript" src="/scripts/jquery.idTabs.min.js"></script>
	<script type="text/javascript" src="/scripts/modify.js"></script>
	<script type="text/javascript" src="/scripts/schedule.js"></script>
	<script type="text/javascript" src="/scripts/output.js"></script>
	<script type="text/javascript" src="/scripts/load.js"></script>
	<script type="text/javascript" src="/scripts/create.js"></script>
	<script type="text/javascript" src="/scripts/save.js"></script>
	<script type="text/javascript" src="/scripts/statistics.js"></script>
	
	<link rel="stylesheet" type="text/css" href="/stylesheets/style1.css" />

  <body>


    <div id="chart"></div>

    <div id="tabs">
        <ul class="idTabs">
            <li><a href="#create">Create</a></li>
            <li><a href="#load">Load</a></li>
            <li><a href="#modify">Modify</a></li>
            <li><a href="#read">Output</a></li>
            <li><a href="#statistics">Analysis</a></li>
            <li><a href="#save">Save</a></li>
        </ul>
        
        <div id="create">
            <div class="simplewidget">
              <button id="createRandom">Create random schedule</button>
            </div>
        </div>
        
        <div id="load">
         <div class="simplewidget">
          Search by schedule id:
          <select id="chooseSched">
           {% for id in ids %}
            <option value="{{ id }}"> {{ id }} </option>
           {% endfor %}
          </select>
         </div>
        </div>

        <div id="modify">
            <div class="simplewidget" id="manyPoints">
                Add many points (as a JSON-formatted list of lists):
                <textarea class="block" id="addMany"></textarea>
            </div>

            <div class="simplewidget" id="onePoint">
                or add points individually:<br /> 
                x coordinate<input type="text" id="x"> <br /> 
                y coordinate<input type="text" id="y"> <br />
                <button id="addOne">Add point!</button>
            </div>
            
            <div class="simplewidget">
                <button id="removeAll">Remove all points</button>
            </div>

            <div class="simplewidget" id="randomPoint">
                <button class="block" id="addRandom">Add random point!</button>
            </div>
        </div>

        <div id="read">
          <div class="simplewidget" id="output">
           Select format:
           <select id="outputFormat">
            <option value="Bruker">Bruker</option>
            <option value="Toolkit">Toolkit</option>
            <option value="JSON">JSON</option>
            <option value="Varian">Varian</option>
           </select>
           <textarea class="block" id="scheduleOut"></textarea>
          </div>
        </div>
        
        <div id="statistics">
          <div class="simplewidget">
           <button id="refreshStatistics">Recalculate statistics</button>
           <ul id="statsOutput">
            <li>Grid point coverage (%)</li>
            <li>Total time units</li>
            <li>Min, Max x</li>
            <li>Min, Max y</li>
           </ul>
          </div>
        </div>
        
        <div id="save">
          <div class="simplewidget">
            <button id="saveSchedule">Save schedule to DataStore</button>
          </div>
          <div class="simplewidget">
            Author:<textarea id="author"></textarea>
          </div>
          <div class="simplewidget">
            Description:<textarea id="description"></textarea>
          </div>
        </div>

    </div>
    
    
    <script type="text/javascript">
    $(document).ready(function() {

        ////////////////////
        // create 'global' chart and schedule variables 
        ////////////////////
        var chart = new Highcharts.Chart({
            chart: {
                type: 'scatter',
                renderTo: 'chart',
            },
            
            title: {
                text: 'Sample schedule viewer'
            },
            
            credits: {
                enabled: false
            },
            
            yAxis: {
                min: 0,
                max: 100,
                title: {
                    text: 'y increment'
                },
                gridLineWidth: 1
            },
            
            xAxis: {
                min: 0,
                max: 100,
                title: {
                    text: 'x increment'
                },
                gridLineWidth: 1
            },
            
            series: [
                {name: 'sample schedule',
                 data: []
                }
            ]
        });
        
        var schedule = new Schedule(chart);
        ///////////////////////////////
                
        addLoad(schedule);   // from /scripts/load.js 
        
        addCreate(schedule); // from /scripts/create.js 

        addModify(schedule); // from /scripts/modify.js 

        addOutput(schedule); // from /scripts/output.js 
        
        addStatistics(schedule); // from /scripts/statistics.js 
        
        addSave(schedule);   // from /scripts/save.js 

    });
    
    </script>
  </body>

</html>