<!doctype html>
<html>
<head>
    <title>CONNJUR Schedule Engine</title>
    <meta name="description" content="Create sample schedules for non-uniform NMR data collection" />
    <meta name="keywords" content="CONNJUR, NMR, non-uniform" />
    <meta name="author" content="Matt Fenwick" />
    
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
	<script type="text/javascript" src="/scripts/highcharts.js"></script>
	<script type="text/javascript" src="/scripts/jquery.idTabs.min.js"></script>
	<script type="text/javascript" src="/scripts/modify.js"></script>
	<script type="text/javascript" src="/scripts/schedule.js"></script>
	<script type="text/javascript" src="/scripts/output.js"></script>
	<script type="text/javascript" src="/scripts/load.js"></script>
	<script type="text/javascript" src="/scripts/create.js"></script>
	<script type="text/javascript" src="/scripts/save.js"></script>
	<script type="text/javascript" src="/scripts/statistics.js"></script>
	
	<link rel="stylesheet" type="text/css" href="/stylesheets/style1.css" />
</head>
  <body>


    <div id="chart"></div>

    <div id="tabs">
        <ul class="idTabs">
            <li><a href="#create">Create</a></li>
            <li><a href="#load">Load</a></li>
            <li><a href="#modify">Modify</a></li>
            <li><a href="#output">Output</a></li>
            <li><a href="#statistics">Analysis</a></li>
            <li><a href="#save">Save</a></li>
            <li><a href="#about">About</a></li>
        </ul>
        
        <div id="create">
            <div class="simplewidget">
              <button id="createRandom">Create random schedule</button>
            </div>
            <table id="createoptions">Dimension-specific options
              <tr><th>Parameter</th><th>Dimension 1</th><th>Dimension 2</th></tr>
              <tr>
                <td>Maximum increment</td>
                <td><input type="number"/></td>
                <td><input type="number" /></td>
              </tr>
            </table>
            <table>Other options
              <tr><th>Parameter</th><th>Value</th></tr>
              <tr>
                <td>Number of points</td>
                <td><input type="number" /></td>
              </tr>
              <tr>
                <td>Random seed</td>
                <td><input type="number"/></td>
              </tr>
              <tr>
                <td>Coordinate generation</td>
                <td>
                  <select>
                    <option>All (uniform grid)</option>
                    <option>Halton sub-random</option>
                    <option>Radial</option>
                    <option>Spiral</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Quadrature</td>
                <td>
                  <select>
                    <option>All</option>
                    <option>Multiple random</option>
                    <option>Single random</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Point selection</td>
                <td>
                  <select>
                    <option>All</option>
                    <option>Random</option>
                    <option>Pseudo-exponential</option>
                  </select>
                </td>
              </tr>
            </table>
        </div>
        
        <div id="load">
         <div class="simplewidget">
          Search by schedule id:
          <select id="chooseSched">
           {% for id in ids %}
            <option value="{{ id }}"> {{ id }} </option>
           {% endfor %}
          </select>
         </div>
        </div>

        <div id="modify">
            <div class="simplewidget">
                Add many points (as a JSON-formatted list of lists):
                <textarea class="block" id="manyPoints"></textarea>
                <button id="addMany">Add points!</button>
            </div>

            <div class="simplewidget" id="onePoint">
                or add points individually:<br /> 
                x coordinate<input type="text" id="x"> <br /> 
                y coordinate<input type="text" id="y"> <br />
                <button id="addOne">Add point!</button>
            </div>
            
            <div class="simplewidget">
                <button id="removeAll">Remove all points</button>
            </div>

            <div class="simplewidget" id="randomPoint">
                <button class="block" id="addRandom">Add random point!</button>
            </div>
        </div>

        <div id="output">
          <div class="simplewidget">
           <button class="clearleft" id="viewText">View schedule text</button>
           <div class="clearleft">
            Select format:
            <select id="outputFormat">
             <option value="Bruker">Bruker</option>
             <option value="Toolkit">Toolkit</option>
             <option value="JSON">JSON</option>
             <option value="Varian">Varian</option>
            </select>
           </div>
           <textarea class="block" id="scheduleOut"></textarea>
          </div>
        </div>
        
        <div id="statistics">
          <div class="simplewidget">
           <button id="refreshStatistics">Recalculate statistics</button>
           <ul id="statsOutput">
           </ul>
          </div>
        </div>
        
        <div id="save">
          <div class="simplewidget">
            author:<input id="author" />
          </div>
          <div class="simplewidget">
            description:<input id="description" />
          </div>
          <div class="simplewidget">
            email address:<input id="email" type="email" />
          </div>
          <div class="simplewidget">
            <button id="saveSchedule">Save schedule to DataStore</button>
          </div>
        </div>
        
        <div id="about">
          <p>The Connjur Schedule Engine was conceived, designed, and implemented by 
          Matthew Fenwick at the UCONN Health Center, with help from Colbert Sesanker.
          Both are members of the CONNJUR research group, directed by Dr. Michael 
          Gryk.
          </p>
          <p>
          This work was supported by a grant from the NIH.
          </p>
          <p>Contact information:  mfenwick one hundred at gmail dot com (100 in numerals; no spaces).
          Or contact the CONNJUR group at <a href="http://connjur.uchc.edu/">the CONNJUR website</a>.  
          We'd love to hear from you!
          </p>
        </div>

    </div>
    
    
    <script type="text/javascript">
    $(document).ready(function() {

        ////////////////////
        // create 'global' chart and schedule variables 
        ////////////////////
        var chart = new Highcharts.Chart({
            chart: {
                type: 'scatter',
                renderTo: 'chart',
            },
            
            title: {
                text: 'Sample schedule viewer'
            },
            
            credits: {
                enabled: false
            },
            
            yAxis: {
                min: 0,
                max: 100,
                title: {
                    text: 'y increment'
                },
                gridLineWidth: 1
            },
            
            xAxis: {
                min: 0,
                max: 100,
                title: {
                    text: 'x increment'
                },
                gridLineWidth: 1
            },
            
            series: [
                {name: 'sample schedule',
                 data: []
                }
            ]
        });
        
        var schedule = new Schedule(chart);
        ///////////////////////////////
                
        addLoad(schedule);   // from /scripts/load.js 
        
        addCreate(schedule); // from /scripts/create.js 

        addModify(schedule); // from /scripts/modify.js 

        addOutput(schedule); // from /scripts/output.js 
        
        addStatistics(schedule); // from /scripts/statistics.js 
        
        addSave(schedule);   // from /scripts/save.js 

    });
    
    </script>
  </body>

</html>